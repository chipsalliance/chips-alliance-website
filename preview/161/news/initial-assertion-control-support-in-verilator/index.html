<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5">
<link href=/preview/161/vendor/bootstrap/bootstrap.min.css rel=stylesheet>
<link href=/preview/161/vendor/phosphor-icons/css/phosphor.css rel=stylesheet>
<link href=/preview/161/vendor/magnific-popup/magnific-popup.css rel=stylesheet>
<link rel=stylesheet href=/preview/161/scss/theme.min.a5381c44cba9afddcecb1f5a7770e438e042e9a03f795caa7ee5af578c5025b5.css>
<link rel=icon href=/preview/161/images/favicon/cropped-favicon-1-32x32.png sizes=32x32>
<link rel=icon href=/preview/161/images/favicon/cropped-favicon-1-192x192.png sizes=192x192>
<link rel=apple-touch-icon href=/preview/161/images/favicon/cropped-favicon-1-180x180.png>
<meta name=msapplication-TileImage content="/preview/161/images/favicon/cropped-favicon-1-270x270.png">
<script src=https://cmp.osano.com/16A0DbT9yDNIaQkvZ/3b49aaa9-15ab-4d47-a8fb-96cc25b5543c/osano.js></script>
<title>Initial assertion control support in Verilator | CHIPS Alliance</title>
<meta name=description content="Antmicro is continuously working on improving productivity of ASIC design and verification workflows using open source tools as leaders of the CHIPS …">
<meta property="og:title" content="Initial assertion control support in Verilator">
<meta property="og:description" content="Antmicro is continuously working on improving productivity of ASIC design and verification workflows using open source tools as leaders of the CHIPS Alliance Tools Workgroup, as well as for customer and R&D projects. Extending Verilator with new verification features is a prominent example of such efforts, with the latest notable improvements including initial support for UVM testbenches, the astsee tool for Verilator process and AST analysis and constrained randomization.
In this article, Antmicro introduces initial support for global assertion control (already part of mainline Verilator), building on existing support for assertions available in the simulator.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://chipsalliance.org/preview/161/news/initial-assertion-control-support-in-verilator/"><meta property="og:image" content="https://chipsalliance.org/preview/161/news/initial-assertion-control-support-in-verilator/verilator-assertcontrol-chipsalliance-blog.png"><meta property="article:section" content="news">
<meta property="article:published_time" content="2024-06-21T00:00:00+00:00">
<meta property="article:modified_time" content="2024-06-21T00:00:00+00:00"><meta property="og:site_name" content="CHIPS Alliance">
<meta itemprop=name content="Initial assertion control support in Verilator">
<meta itemprop=description content="Antmicro is continuously working on improving productivity of ASIC design and verification workflows using open source tools as leaders of the CHIPS Alliance Tools Workgroup, as well as for customer and R&D projects. Extending Verilator with new verification features is a prominent example of such efforts, with the latest notable improvements including initial support for UVM testbenches, the astsee tool for Verilator process and AST analysis and constrained randomization.
In this article, Antmicro introduces initial support for global assertion control (already part of mainline Verilator), building on existing support for assertions available in the simulator."><meta itemprop=datePublished content="2024-06-21T00:00:00+00:00">
<meta itemprop=dateModified content="2024-06-21T00:00:00+00:00">
<meta itemprop=wordCount content="843"><meta itemprop=image content="https://chipsalliance.org/preview/161/news/initial-assertion-control-support-in-verilator/verilator-assertcontrol-chipsalliance-blog.png">
<meta itemprop=keywords content><meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://chipsalliance.org/preview/161/news/initial-assertion-control-support-in-verilator/verilator-assertcontrol-chipsalliance-blog.png">
<meta name=twitter:title content="Initial assertion control support in Verilator">
<meta name=twitter:description content="Antmicro is continuously working on improving productivity of ASIC design and verification workflows using open source tools as leaders of the CHIPS Alliance Tools Workgroup, as well as for customer and R&D projects. Extending Verilator with new verification features is a prominent example of such efforts, with the latest notable improvements including initial support for UVM testbenches, the astsee tool for Verilator process and AST analysis and constrained randomization.
In this article, Antmicro introduces initial support for global assertion control (already part of mainline Verilator), building on existing support for assertions available in the simulator.">
<meta name=twitter:site content="@chipsalliance">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H0KF2YZTR7"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-H0KF2YZTR7')</script>
</head>
<body>
<header>
<div class="lfprojects position-fixed">
<a href=https://www.linuxfoundation.org/projects target=_blank rel="noopener noreferrer"><img src=/preview/161/images/lf-projects-banner-white.svg></a>
</div>
<nav class="navbar navbar-expand-lg position-fixed w-100 zindex-dropdown" id=mainnavigationBar>
<a class=navbar-brand href=/preview/161/>
<img src=/preview/161/images/chips_alliance.svg alt=Nav-Logo>
</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-default><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="3.5" y1="5.5" x2="21.5" y2="5.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><line x1="4.5" y1="12.5" x2="21.5" y2="12.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.5" y1="19.5" x2="21.5" y2="19.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
<span class=navbar-toggler-toggled><svg width="20" height="20" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.5 6.5l-15 15" stroke="#404152" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M21.5 21.5l-15-15" stroke="#404152" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav mx-auto mb-20 mb-lg-0 navbar-nav-scroll">
<li class="nav-item dropdown">
<div class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>
About
</div>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/preview/161/about/who-we-are/>Who We Are</a>
<a class=dropdown-item href=/preview/161/about/members/>Members</a>
<a class=dropdown-item href=/preview/161/about/governance/>Governance</a>
<a class=dropdown-item href=/preview/161/about/faq/>FAQ</a>
<a class=dropdown-item href=/preview/161/about/contact/>Contact</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/preview/161/projects/>
Projects
</a>
</li>
<li class=nav-item>
<a class=nav-link href=/preview/161/events/>
Events
</a>
</li>
<li class=nav-item>
<a class=nav-link href=/preview/161/workgroups/>
Workgroups
</a>
</li>
<li class="nav-item dropdown">
<div class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>
News
</div>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/preview/161/categories/announcements/>Announcements</a>
<a class=dropdown-item href=/preview/161/categories/blog/>Blog</a>
<a class=dropdown-item href=/preview/161/categories/reports/>Reports</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/preview/161/join/>
Join
</a>
</li>
</ul>
</div>
<div class="d-none d-lg-block">
<div class=nav-item>
<a href=/preview/161/getting-started/ class="btn btn-sm btn-primary">Get Started</a>
</div>
</div>
</nav>
</header>
<section class=blog-details>
<div class=container>
<div class=row>
<div class=col-lg-12>
<article class=blog-single>
<div class=inner-blog-details>
<h1>Initial assertion control support in Verilator</h1>
<div class=inner-blog-details-meta>
<ul class=list-unstyled>
<li class=list-inline-item>
<p>June 21, 2024</p>
</li>
<li class=list-inline-item>
<p>4 <span>minutes</span></p>
</li>
<li class=list-inline-item>
<p>843 <span>words</span></p>
</li>
</ul>
</div>
</div>
<div class="rounded-box mb-xxl-11 mb-8">
<img src=https://chipsalliance.org/preview/161/news/initial-assertion-control-support-in-verilator/verilator-assertcontrol-chipsalliance-blog.png class=w-100 alt=featured-image>
</div>
<div><p>Antmicro is continuously working on improving productivity of ASIC design and verification workflows using open source tools as leaders of the <a href=https://www.chipsalliance.org/>CHIPS Alliance</a> Tools Workgroup, as well as for customer and R&D projects. Extending <a href=https://github.com/verilator>Verilator</a> with new verification features is a prominent example of such efforts, with the latest notable improvements including <a href=https://antmicro.com/blog/2023/10/running-simple-uvm-testbenches-in-verilator/>initial support for UVM testbenches</a>, the <a href=https://antmicro.com/blog/2024/01/analyze-verilator-processes-and-asts/>astsee tool for Verilator process and AST analysis</a> and <a href=https://antmicro.com/blog/2024/03/introducing-constrained-randomization-in-verilator/>constrained randomization</a>.</p>
<p>In this article, Antmicro introduces initial support for global assertion control (<a href=https://github.com/verilator/verilator/pull/5010>already part of mainline Verilator</a>), building on existing support for assertions available in the simulator. These changes simplify verification testing by letting developers enable or disable assertions as required by particular simulation stages or testing scenarios. Antmicro delves into the benefits of this implementation, examines several use cases where assertion control can prove useful and provide considerations for the path towards full support.</p>
<h2 id=introducing-global-assertion-control>Introducing global assertion control</h2>
<p>SystemVerilog Assertions (SVA), defined in <a href=https://standards.ieee.org/ieee/1800/7743/>IEEE 1800-2023</a>, Chapter 16, are chunks of verification code that check whether a design adheres to the specification, allowing you to validate the design’s behavior, provide functional coverage and flag non-conforming input. SystemVerilog defines two types of assertions:</p>
<ul>
<li>Immediate assertions – used in a procedural manner like any other statement, mainly alongside a simulation flow</li>
<li>Concurrent assertions – executed using clock semantics; used to verify design properties with each clock cycle.</li>
</ul>
<p>Assertions statements fall into the following directive types:</p>
<ul>
<li><code>assert</code> – specifies properties as obligatory</li>
<li><code>assume</code> – specifies a property as an environment assumption. The simulator checks if a property holds and formal verification tools use it for their own validation</li>
<li><code>cover</code> – monitors coverage for a property</li>
<li><code>restrict</code> – does not fall under assertion control; only used by formal verification tools.</li>
</ul>
<p>It is common practice to define assertions for the normal mode of operation of a device. For example, if a control register holds a specific value, then a constraint can be formulated on the logic driven from this register. However, during initialization of the device, there may be a period of time after reset when this register is not yet initialized to its proper value. An engineer would then have to create an <code>if</code> statement to make sure that the assertion is only fired when the device reaches the normal mode of operation (and not at the initialization phase). Instead of writing elaborate, non-reusable assertions in all modules of the design, a more elegant solution to this problem is to turn off assertions for this module at the time of initialization:</p>
<pre tabindex=0><code>initial begin
  	$assertoff;
  	@(posedge clk)
  	@(negedge reset)
	initialize_device(); // Do not fire assertions in the “indeterminate” state
  	$asserton;
end
</code></pre><h2 id=the-road-from-global-to-granular-assertion-control>The road from global to granular assertion control</h2>
<p>While the addition of global assertion control to Verilator can already help developers simplify their test suites, a large part of the potential offered by this mechanism still remains on the table. In order to fully tap into this potential and enable full assertion control support, the simulator requires more granular criteria that will allow for more diverse verification use cases – which will be implemented in the future given enough customer interest.</p>
<p>One such mechanism is scoped assertion control. By introducing scopes, developers will be able to disable assertions only within the specified scopes without affecting the rest of the design, for instance in the case of error injection testing scenarios. By specifying a <code>level</code> parameter, control can be then even further constrained to a certain assertion control propagation depth and the test code can be simplified without rewriting assertion control statements for different hierarchy levels. With scoped control, Verilator will be able to support designs that already use it, including the community-driven open source <a href=https://opentitan.org/>OpenTitan</a> Root of Trust project.</p>
<p>Constrained control over assertions within a specific type can also prove useful, e.g. disabling <strong>concurrent</strong> assertions may be desired during the design initialization, while keeping <strong>immediate</strong> assertions active.</p>
<p>Further granularity may also be beneficial in assertion control. Specifying an assertion directive type will make it possible to specify only certain types of directives affected. For instance, <code>assert</code> directives may be disabled by the <code>assertcontrol</code> task implemented in Verilator, while <code>cover</code> and <code>assume</code> directives may remain active. As the current level of support for cover and assume directives is not complete in Verilator, extending this aspect is an important prerequisite before control based on directive type is introduced.</p>
<h2 id=develop-and-test-hardware-designs-with-antmicro>Develop and test hardware designs with Antmicro</h2>
<p>Support for global assertion control in Verilator speeds up development by allowing assertion control in the test runtime instead of during compilation phase by using appropriate flags, all while simplifying the test suites themselves. This effort is another step towards enabling the full set of SystemVerilog features in open source verification using Verilator, enabling a set of new testing scenarios as well as laying the groundwork for support of the full range of assertions and assertion control over additional constraining arguments.</p>
<p>If you are interested in commercial support in developing and verifying your hardware designs using Verilator, or in accelerating your ASIC development workflows with open source tools contact Antmicro at <a href=mailto:contact@antmicro.com>contact@antmicro.com</a> to discuss your needs.</p>
</div>
</article>
</div>
</div>
</div>
</section>
<section class="blog-related position-relative">
<div class=container>
<div class=row>
<div class=col-md-12>
<div class=blog-section>
<h2 class=blog-section-title>Recent News</h2>
</div>
</div>
</div>
<div class=row>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/preview/161/news/caliptra-user-mode/>
<img src=https://chipsalliance.org/preview/161/news/caliptra-user-mode/VeeR-EL2-Tock--blog-sm.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.org/preview/161/categories/blog>Blog</a>
</div>
<div class=blog-post-date>
January 30, 2025
</div>
<div class=blog-post-title>
<a href=/preview/161/news/caliptra-user-mode/>Caliptra - Support for VeeR EL2 with User Mode and Physical Memory Protection in Tock embedded OS</a>
</div>
</div>
</article>
</div>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/preview/161/news/constrained-randomization-verilator/>
<img src=https://chipsalliance.org/preview/161/news/constrained-randomization-verilator/Constrained-randomization-in-Verilator--blog-sm--CHIPS.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.org/preview/161/categories/blog>Blog</a>
</div>
<div class=blog-post-date>
January 21, 2025
</div>
<div class=blog-post-title>
<a href=/preview/161/news/constrained-randomization-verilator/>Constrained randomization in Verilator</a>
</div>
</div>
</article>
</div>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/preview/161/news/caliptra-support-for-veer/>
<img src=https://chipsalliance.org/preview/161/news/caliptra-support-for-veer/VeeR-EL2-Tock--blog-sm.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.org/preview/161/categories/blog>Blog</a>
</div>
<div class=blog-post-date>
January 9, 2025
</div>
<div class=blog-post-title>
<a href=/preview/161/news/caliptra-support-for-veer/>Caliptra - Support for VeeR EL2 with User Mode and Physical Memory Protection in Tock embedded OS</a>
</div>
</div>
</article>
</div>
</div>
</div>
</section>
<footer class="footer pt-xxl-19 pt-8 pb-sm-7 pb-5" id=footer>
<div class=container-fluid>
<div class=footer-wrapper>
<div class=row>
<div class="col-12 col-lg-4 me-auto order-2 order-lg-1">
<div class="footer-logo mt-7 mt-md-0 mb-5">
<a href=/preview/161/>
<img src=/preview/161/images/chips-logo-white.svg alt=logo>
</a>
</div>
<div class=social-icon>
<ul class=list-unstyled>
<li>
<a href=https://twitter.com/chipsalliance> <i class=ph-twitter-logo></i> </a>
</li>
<li>
<a href=https://github.com/chipsalliance> <i class=ph-github-logo></i> </a>
</li>
<li>
<a href=https://www.linkedin.com/company/chipsalliance/> <i class=ph-linkedin-logo></i> </a>
</li>
</ul>
</div>
<div class="footer-logo mt-7 mt-md-0">
<p>
© Copyright <span>2025</span> CHIPS Alliance
The Linux Foundation® . All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage>Trademark Usage</a> page. Linux is a registered trademark of Linus Torvalds. <a href=http://www.linuxfoundation.org/privacy>Privacy Policy</a> and <a href=http://www.linuxfoundation.org/terms>Terms of Use</a>.
</p>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>About</h3>
<ul class=list-unstyled>
<li>
<a href=/preview/161/about/who-we-are/>Who We Are</a>
</li>
<li>
<a href=/preview/161/about/members/>Members</a>
</li>
<li>
<a href=https://members.chipsalliance.org/>Member Support</a>
</li>
<li>
<a href=/preview/161/about/governance/>Governance</a>
</li>
<li>
<a href=/preview/161/about/faq/>FAQ</a>
</li>
<li>
<a href=/preview/161/about/contact/>Contact</a>
</li>
</ul>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>Community</h3>
<ul class=list-unstyled>
<li>
<a href=/preview/161/projects/>Projects</a>
</li>
<li>
<a href=/preview/161/getting-started/>Getting Started</a>
</li>
<li>
<a href=/preview/161/events/>Events</a>
</li>
<li>
<a href=/preview/161/workgroups/>Workgroups</a>
</li>
</ul>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>News</h3>
<ul class=list-unstyled>
<li>
<a href=/preview/161/categories/announcements/>Announcements</a>
</li>
<li>
<a href=/preview/161/categories/blog/>Blog</a>
</li>
<li>
<a href=/preview/161/categories/reports/>Reports</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</footer>
<script src=/preview/161/vendor/jQuery/jquery.min.js></script>
<script src=/preview/161/vendor/bootstrap/bootstrap.bundle.min.js></script>
<script src=/preview/161/vendor/counter-up/countup.js></script>
<script src=/preview/161/vendor/magnific-popup/magnific-popup.min.js></script>
<script src=/preview/161/js/script.js></script>
</body>
</html>