<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5">
<link href=/vendor/bootstrap/bootstrap.min.css rel=stylesheet>
<link href=/vendor/phosphor-icons/css/phosphor.css rel=stylesheet>
<link href=/vendor/magnific-popup/magnific-popup.css rel=stylesheet>
<link rel=stylesheet href=/scss/theme.min.42d40c343fbab3f1b299ef8d3494aec298e5026a50564beeb9a689e2c993293a.css>
<link rel=icon href=/images/favicon/cropped-favicon-1-32x32.png sizes=32x32>
<link rel=icon href=/images/favicon/cropped-favicon-1-192x192.png sizes=192x192>
<link rel=apple-touch-icon href=/images/favicon/cropped-favicon-1-180x180.png>
<meta name=msapplication-TileImage content="/images/favicon/cropped-favicon-1-270x270.png">
<script src=https://cmp.osano.com/16A0DbT9yDNIaQkvZ/3b49aaa9-15ab-4d47-a8fb-96cc25b5543c/osano.js></script>
<title>High-Throughput Open Source PCIe on Xilinx VU19P-Based ASIC Prototyping Platform | CHIPS Alliance</title>
<meta name=description content="This post was originally published at Antmicro.
In our daily work at Antmicro we use FPGAs primarily for their flexibility and parallel data â€¦">
<meta property="og:title" content="High-Throughput Open Source PCIe on Xilinx VU19P-Based ASIC Prototyping Platform">
<meta property="og:description" content="This post was originally published at Antmicro.
In our daily work at Antmicro we use FPGAs primarily for their flexibility and parallel data processing capabilities that make them remarkably effective in advanced vision and audio processing systems involving high-speed interfaces such as PCI Express, USB, Ethernet, HDMI, SDI etc. that we develop and integrate as open source, portable building blocks. Many of our customers, however, use FPGAs also in a different context, namely for designing ASICs, which is a highly specialized market that typically involves large FPGAs, proprietary flows and IP.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://chipsalliance.org/news/high-throughput-open-source-pcie/"><meta property="og:image" content="https://chipsalliance.org/images/blog-share.jpg"><meta property="article:section" content="news">
<meta property="article:published_time" content="2021-02-11T00:00:00+00:00">
<meta property="article:modified_time" content="2021-02-11T00:00:00+00:00"><meta property="og:site_name" content="CHIPS Alliance">
<meta itemprop=name content="High-Throughput Open Source PCIe on Xilinx VU19P-Based ASIC Prototyping Platform">
<meta itemprop=description content="This post was originally published at Antmicro.
In our daily work at Antmicro we use FPGAs primarily for their flexibility and parallel data processing capabilities that make them remarkably effective in advanced vision and audio processing systems involving high-speed interfaces such as PCI Express, USB, Ethernet, HDMI, SDI etc. that we develop and integrate as open source, portable building blocks. Many of our customers, however, use FPGAs also in a different context, namely for designing ASICs, which is a highly specialized market that typically involves large FPGAs, proprietary flows and IP."><meta itemprop=datePublished content="2021-02-11T00:00:00+00:00">
<meta itemprop=dateModified content="2021-02-11T00:00:00+00:00">
<meta itemprop=wordCount content="567"><meta itemprop=image content="https://chipsalliance.org/images/blog-share.jpg">
<meta itemprop=keywords content><meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://chipsalliance.org/images/blog-share.jpg">
<meta name=twitter:title content="High-Throughput Open Source PCIe on Xilinx VU19P-Based ASIC Prototyping Platform">
<meta name=twitter:description content="This post was originally published at Antmicro.
In our daily work at Antmicro we use FPGAs primarily for their flexibility and parallel data processing capabilities that make them remarkably effective in advanced vision and audio processing systems involving high-speed interfaces such as PCI Express, USB, Ethernet, HDMI, SDI etc. that we develop and integrate as open source, portable building blocks. Many of our customers, however, use FPGAs also in a different context, namely for designing ASICs, which is a highly specialized market that typically involves large FPGAs, proprietary flows and IP.">
<meta name=twitter:site content="@chipsalliance">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H0KF2YZTR7"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-H0KF2YZTR7')</script>
</head>
<body>
<header>
<div class="lfprojects position-fixed">
<a href=https://www.linuxfoundation.org/projects target=_blank rel="noopener noreferrer"><img src=/images/lf-projects-banner-white.svg></a>
</div>
<nav class="navbar navbar-expand-lg position-fixed w-100 zindex-dropdown" id=mainnavigationBar>
<a class=navbar-brand href=/>
<img src=/images/chips_alliance.svg alt=Nav-Logo>
</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-default><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="3.5" y1="5.5" x2="21.5" y2="5.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><line x1="4.5" y1="12.5" x2="21.5" y2="12.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.5" y1="19.5" x2="21.5" y2="19.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
<span class=navbar-toggler-toggled><svg width="20" height="20" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.5 6.5l-15 15" stroke="#404152" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M21.5 21.5l-15-15" stroke="#404152" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav mx-auto mb-20 mb-lg-0 navbar-nav-scroll">
<li class="nav-item dropdown">
<div class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>
About
</div>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/about/who-we-are/>Who We Are</a>
<a class=dropdown-item href=/about/members/>Members</a>
<a class=dropdown-item href=/about/governance/>Governance</a>
<a class=dropdown-item href=/about/faq/>FAQ</a>
<a class=dropdown-item href=/about/contact/>Contact</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/projects/>
Projects
</a>
</li>
<li class=nav-item>
<a class=nav-link href=/events/>
Events
</a>
</li>
<li class=nav-item>
<a class=nav-link href=/workgroups/>
Workgroups
</a>
</li>
<li class="nav-item dropdown">
<div class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>
News
</div>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/categories/announcements/>Announcements</a>
<a class=dropdown-item href=/categories/blog/>Blog</a>
<a class=dropdown-item href=/categories/reports/>Reports</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/join/>
Join
</a>
</li>
</ul>
</div>
<div class="d-none d-lg-block">
<div class=nav-item>
<a href=/getting-started/ class="btn btn-sm btn-primary">Get Started</a>
</div>
</div>
</nav>
</header>
<section class=blog-details>
<div class=container>
<div class=row>
<div class=col-lg-12>
<article class=blog-single>
<div class=inner-blog-details>
<h1>High-Throughput Open Source PCIe on Xilinx VU19P-Based ASIC Prototyping Platform</h1>
<div class=inner-blog-details-meta>
<ul class=list-unstyled>
<li class=list-inline-item>
<p>February 11, 2021</p>
</li>
<li class=list-inline-item>
<p>3 <span>minutes</span></p>
</li>
<li class=list-inline-item>
<p>567 <span>words</span></p>
</li>
</ul>
</div>
</div>
<div class="rounded-box mb-xxl-11 mb-8">
<img src=https://chipsalliance.org/images/blog-share.jpg class=w-100 alt=featured-image>
</div>
<div><p><em>This post was originally published at <a href=https://antmicro.com/blog/2021/02/high-throughput-open-source-pcie-on-xilinx-vu19/>Antmicro</a>.</em></p>
<p>In our daily work at Antmicro we use FPGAs primarily for their flexibility and parallel data processing capabilities that make them remarkably effective in advanced vision and audio processing systems involving high-speed interfaces such as PCI Express, USB, Ethernet, HDMI, SDI etc. that we develop and integrate as open source, portable building blocks. Many of our customers, however, use FPGAs also in a different context, namely for designing ASICs, which is a highly specialized market that typically involves large FPGAs, proprietary flows and IP. In one such project, we were working with one of the largest FPGAs in production today, the 9-million LUT Xilinx VU19. Being a design with considerable complexity, it needed a high-throughput link between the FPGA and the host PC that could be thoroughly benchmarked, analyzed and optimized for the use case.</p>
<h2 id=implementing-pcie-with-open-source>Implementing PCIe with open source</h2>
<p>Implementing PCIe is not completely straightforward as you have to synchronize multiple lines of high-speed bi-directional data. If you hit a bug somewhere in your data flow, things get very tricky to debug, especially if you have no ability to inspect and change the source code of the IPs involved. Being active developers of a variety of portable and reusable open source FPGA IP cores, for the project in question we were able to integrate a <a href=https://github.com/antmicro/virtex-ultrascale-pcie>fully open PCIe interface</a> into the Xilinx VU19-based ASIC prototyping platform using <a href=http://github.com/enjoy-digital/litex>LiteX</a>/<a href=https://github.com/enjoy-digital/litepcie>LitePCIe</a>, achieving a pretty respectable throughput of 31 Gbits/s on an 8-lane bandwidth. Although the FPGA chip itself is capable of 16-lane bandwidth for transferring data, the proFPGA board used in the setup supports only 8 lanes, but with hardware capable of bigger bandwidth we can achieve even greater throughput if needed. In fact, the repository also contains instructions for a 16-lane capable <a href=https://chipsalliance.org/blog/2021/02/11/high-throughput-open-source-pcie/_wp_link_placeholder>VU9-based setup</a> â€“ using a popular and not as prohibitively expensive devboard available from after-market- where we could measure as much as 59 Gbits/s.</p>
<p><img src=high_troughput_PCIE.gif alt="PCIe connection between host PC and VU19"></p>
<h2 id=scalable-portable-and-customizable-flows>Scalable, portable and customizable flows</h2>
<p>Our ability to rapidly iterate as well as track down and fix bugs in the system we have created for this customer project demonstrates the scalability and portability of the open source-based approach, and is an example of Antmicroâ€™s wider efforts aimed at developing reusable building blocks and introducing improvements to the whole FPGA ecosystem.</p>
<p>Open source-licensed IP cores play well with the open source FPGA and ASIC tooling that we are building to enable a faster, collaborative and modular system development workflow â€“ a goal that is shared by <a href=https://chipsalliance.org/>CHIPS Alliance</a>, of which we are proud to be a Platinum member. As one of the many examples, we are making great progress in enabling <a href=https://antmicro.com/blog/2020/12/ibex-support-in-verilator-yosys-via-uhdm-surelog/>open source synthesis and simulation</a> of complex SystemVerilog-based designs, such as security-focused RISC-V cores like <a href=https://opentitan.org/>OpenTitanâ€™s</a> Ibex. Some of our other projects focus on open source synthesis and place & route flows, linters, formatters, CI systems, simulation platforms, test suites and more.</p>
<h2 id=flexible-system-design>Flexible system design</h2>
<p>The PCIe core used in the ASIC prototyping project also works great in sophisticated computer systems we have been building for our customers. The wide array of customizable and licence-free FPGA IPs and SoC generators that we work with allows us to implement specific functionalities in the devices we build and it includes MIPI CSI and other camera interfaces, SDI, HDMI, ISP processing, video codecs, AI and 2D GPU acceleration, I2S, SPDIF, PCIe, USB, Ethernet, DMA, SATA and DRAM controllers.</p>
</div>
</article>
</div>
</div>
</div>
</section>
<section class="blog-related position-relative">
<div class=container>
<div class=row>
<div class=col-md-12>
<div class=blog-section>
<h2 class=blog-section-title>Recent News</h2>
</div>
</div>
</div>
<div class=row>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/news/integrating-language-server-protocol-in-verible/>
<img src=https://chipsalliance.org/news/integrating-language-server-protocol-in-verible/lsp-illustration_chips.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.org/categories/blog>Blog</a>
</div>
<div class=blog-post-date>
April 12, 2023
</div>
<div class=blog-post-title>
<a href=/news/integrating-language-server-protocol-in-verible/>Integrating the Language Server Protocol in Verible</a>
</div>
</div>
</article>
</div>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/news/chips-alliance-welcomes-the-caliptra-open-source-root-of-trust-project/>
<img src=https://chipsalliance.org/news/chips-alliance-welcomes-the-caliptra-open-source-root-of-trust-project/share.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.org/categories/announcements>Announcements</a>
</div>
<div class=blog-post-date>
December 13, 2022
</div>
<div class=blog-post-title>
<a href=/news/chips-alliance-welcomes-the-caliptra-open-source-root-of-trust-project/>CHIPS Alliance Welcomes the Caliptra Open Source Root of Trust Project</a>
</div>
</div>
</article>
</div>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/news/joint-analog-workgroup-mos-ak-panel-session/>
<img src=https://chipsalliance.org/news/joint-analog-workgroup-mos-ak-panel-session/share.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.org/categories/blog>Blog</a>
</div>
<div class=blog-post-date>
December 5, 2022
</div>
<div class=blog-post-title>
<a href=/news/joint-analog-workgroup-mos-ak-panel-session/>Joint Analog Workgroup / MOS-AK Panel Session</a>
</div>
</div>
</article>
</div>
</div>
</div>
</section>
<footer class="footer pt-xxl-19 pt-8 pb-sm-7 pb-5" id=footer>
<div class=container-fluid>
<div class=footer-wrapper>
<div class=row>
<div class="col-12 col-lg-4 me-auto order-2 order-lg-1">
<div class="footer-logo mt-7 mt-md-0 mb-5">
<a href=/>
<img src=/images/chips-logo-white.svg alt=logo>
</a>
</div>
<div class=social-icon>
<ul class=list-unstyled>
<li>
<a href=https://twitter.com/chipsalliance> <i class=ph-twitter-logo></i> </a>
</li>
<li>
<a href=https://github.com/chipsalliance> <i class=ph-github-logo></i> </a>
</li>
<li>
<a href=https://www.linkedin.com/company/chipsalliance/> <i class=ph-linkedin-logo></i> </a>
</li>
</ul>
</div>
<div class="footer-logo mt-7 mt-md-0">
<p>
Â© Copyright <span>2023</span> CHIPS Alliance
The Linux FoundationÂ® . All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage>Trademark Usage</a> page. Linux is a registered trademark of Linus Torvalds. <a href=http://www.linuxfoundation.org/privacy>Privacy Policy</a> and <a href=http://www.linuxfoundation.org/terms>Terms of Use</a>.
</p>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>About</h3>
<ul class=list-unstyled>
<li>
<a href=/about/who-we-are/>Who We Are</a>
</li>
<li>
<a href=/about/members/>Members</a>
</li>
<li>
<a href=/about/governance/>Governance</a>
</li>
<li>
<a href=/about/faq/>FAQ</a>
</li>
<li>
<a href=/about/contact/>Contact</a>
</li>
</ul>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>Community</h3>
<ul class=list-unstyled>
<li>
<a href=/projects/>Projects</a>
</li>
<li>
<a href=/getting-started/>Getting Started</a>
</li>
<li>
<a href=/events/>Events</a>
</li>
<li>
<a href=/workgroups/>Workgroups</a>
</li>
</ul>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>News</h3>
<ul class=list-unstyled>
<li>
<a href=/categories/announcements/>Announcements</a>
</li>
<li>
<a href=/categories/blog/>Blog</a>
</li>
<li>
<a href=/categories/reports/>Reports</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</footer>
<script src=/vendor/jQuery/jquery.min.js></script>
<script src=/vendor/bootstrap/bootstrap.bundle.min.js></script>
<script src=/vendor/counter-up/countup.js></script>
<script src=/vendor/magnific-popup/magnific-popup.min.js></script>
<script src=/js/script.js></script>
</body>
</html>