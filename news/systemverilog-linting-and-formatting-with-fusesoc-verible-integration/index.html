<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5">
<link href=/chips-alliance-website/vendor/bootstrap/bootstrap.min.css rel=stylesheet>
<link href=/chips-alliance-website/vendor/phosphor-icons/css/phosphor.css rel=stylesheet>
<link href=/chips-alliance-website/vendor/magnific-popup/magnific-popup.css rel=stylesheet>
<link rel=stylesheet href=/chips-alliance-website/scss/theme.min.df0eb872d05fa00c33e64028a7b1e9a1f4704b5dc21fcf9db3c4201a39d3c33c.css>
<link rel=icon href=/chips-alliance-website/images/favicon/cropped-favicon-1-32x32.png sizes=32x32>
<link rel=icon href=/chips-alliance-website/images/favicon/cropped-favicon-1-192x192.png sizes=192x192>
<link rel=apple-touch-icon href=/chips-alliance-website/images/favicon/cropped-favicon-1-180x180.png>
<meta name=msapplication-TileImage content="/chips-alliance-website/images/favicon/cropped-favicon-1-270x270.png">
<script src=https://cmp.osano.com/16A0DbT9yDNIaQkvZ/3b49aaa9-15ab-4d47-a8fb-96cc25b5543c/osano.js></script>
<title>SystemVerilog Linting and Formatting with FuseSoC – Verible Integration | CHIPS Alliance</title>
<meta name=description content="This post was originally published at Antmicro.
Although new ASIC design methodologies and tools such as Chisel are on the rise, most ASIC projects …">
<meta property="og:title" content="SystemVerilog Linting and Formatting with FuseSoC – Verible Integration">
<meta property="og:description" content="This post was originally published at Antmicro.
Although new ASIC design methodologies and tools such as Chisel are on the rise, most ASIC projects still use SystemVerilog, the support of which in open source tools has traditionally lagged behind. This is unfortunate, as using proprietary alternatives with the CI systems of open source projects is neither scalable due to licensing costs and restrictions nor simple due to the need for license management and obfuscation.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://chipsalliance.github.io/chips-alliance-website/news/systemverilog-linting-and-formatting-with-fusesoc-verible-integration/"><meta property="og:image" content="https://chipsalliance.github.io/chips-alliance-website/images/blog-share.jpg"><meta property="article:section" content="news">
<meta property="article:published_time" content="2020-05-07T00:00:00+00:00">
<meta property="article:modified_time" content="2020-05-07T00:00:00+00:00"><meta property="og:site_name" content="CHIPS Alliance">
<meta itemprop=name content="SystemVerilog Linting and Formatting with FuseSoC – Verible Integration">
<meta itemprop=description content="This post was originally published at Antmicro.
Although new ASIC design methodologies and tools such as Chisel are on the rise, most ASIC projects still use SystemVerilog, the support of which in open source tools has traditionally lagged behind. This is unfortunate, as using proprietary alternatives with the CI systems of open source projects is neither scalable due to licensing costs and restrictions nor simple due to the need for license management and obfuscation."><meta itemprop=datePublished content="2020-05-07T00:00:00+00:00">
<meta itemprop=dateModified content="2020-05-07T00:00:00+00:00">
<meta itemprop=wordCount content="859"><meta itemprop=image content="https://chipsalliance.github.io/chips-alliance-website/images/blog-share.jpg">
<meta itemprop=keywords content><meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://chipsalliance.github.io/chips-alliance-website/images/blog-share.jpg">
<meta name=twitter:title content="SystemVerilog Linting and Formatting with FuseSoC – Verible Integration">
<meta name=twitter:description content="This post was originally published at Antmicro.
Although new ASIC design methodologies and tools such as Chisel are on the rise, most ASIC projects still use SystemVerilog, the support of which in open source tools has traditionally lagged behind. This is unfortunate, as using proprietary alternatives with the CI systems of open source projects is neither scalable due to licensing costs and restrictions nor simple due to the need for license management and obfuscation.">
<meta name=twitter:site content="@chipsalliance">
</head>
<body>
<header>
<div class="lfprojects position-fixed">
<a href=https://www.linuxfoundation.org/projects target=_blank rel="noopener noreferrer"><img src=/chips-alliance-website/images/lf-projects-banner-white.svg></a>
</div>
<nav class="navbar navbar-expand-lg position-fixed w-100 zindex-dropdown" id=mainnavigationBar>
<a class=navbar-brand href=/chips-alliance-website/>
<img src=/chips-alliance-website/images/chips_alliance.svg alt=Nav-Logo>
</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-default><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><line x1="3.5" y1="5.5" x2="21.5" y2="5.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><line x1="4.5" y1="12.5" x2="21.5" y2="12.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.5" y1="19.5" x2="21.5" y2="19.5" stroke="#292d32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
<span class=navbar-toggler-toggled><svg width="20" height="20" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.5 6.5l-15 15" stroke="#404152" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M21.5 21.5l-15-15" stroke="#404152" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
</span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav mx-auto mb-20 mb-lg-0 navbar-nav-scroll">
<li class="nav-item dropdown">
<div class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>
About
</div>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/chips-alliance-website/about/who-we-are/>Who We Are</a>
<a class=dropdown-item href=/chips-alliance-website/about/members/>Members</a>
<a class=dropdown-item href=/chips-alliance-website/about/governance/>Governance</a>
<a class=dropdown-item href=/chips-alliance-website/about/faq/>FAQ</a>
<a class=dropdown-item href=/chips-alliance-website/about/contact/>Contact</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/chips-alliance-website/events/>
Events
</a>
</li>
<li class=nav-item>
<a class=nav-link href=/chips-alliance-website/workgroups/>
Workgroups
</a>
</li>
<li class="nav-item dropdown">
<div class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=false>
News
</div>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/chips-alliance-website/categories/announcements/>Announcements</a>
<a class=dropdown-item href=/chips-alliance-website/categories/blog/>Blog</a>
<a class=dropdown-item href=/chips-alliance-website/categories/reports/>Reports</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=/chips-alliance-website/join/>
Join
</a>
</li>
</ul>
</div>
<div class="d-none d-lg-block">
<div class=nav-item>
<a href=/chips-alliance-website/getting-started/ class="btn btn-sm btn-primary">Get Started</a>
</div>
</div>
</nav>
</header>
<section class=blog-details>
<div class=container>
<div class=row>
<div class=col-lg-12>
<article class=blog-single>
<div class=inner-blog-details>
<h1>SystemVerilog Linting and Formatting with FuseSoC – Verible Integration</h1>
<div class=inner-blog-details-meta>
<ul class=list-unstyled>
<li class=list-inline-item>
<p>May 7, 2020</p>
</li>
<li class=list-inline-item>
<p>5 <span>minutes</span></p>
</li>
<li class=list-inline-item>
<p>859 <span>words</span></p>
</li>
</ul>
</div>
</div>
<div class="rounded-box mb-xxl-11 mb-8">
<img src=https://chipsalliance.github.io/chips-alliance-website/images/blog-share.jpg class=w-100 alt=featured-image>
</div>
<div><p><em>This post was originally published at <a href=https://antmicro.com/blog/2020/04/systemverilog-linter-and-formatter-in-fusesoc/>Antmicro</a>.</em></p>
<p>Although new ASIC design methodologies and tools such as Chisel are on the rise, most ASIC projects still use SystemVerilog, the support of which in open source tools has traditionally lagged behind. This is unfortunate, as using proprietary alternatives with the CI systems of open source projects is neither scalable due to licensing costs and restrictions nor simple due to the need for license management and obfuscation.</p>
<p>Antmicro, Google and the <a href=https://chipsalliance.org/>CHIPS Alliance</a>, which we are members of, have been working together with the <a href=https://www.lowrisc.org/>lowRISC project</a> to address this issue by implementing relevant tools and useful integrations in the open source domain. One large milestone on this route is Verible, an open source Flex/YACC SystemVerilog parser, linter and formatter recently open sourced by our partner and customer, Google.</p>
<p>Among other developments in that space, Antmicro has been helping to make Verible support some SystemVerilog features required for working with practical use cases, such as lowRISC’s <a href=https://github.com/lowRISC/ibex>ibex</a>, a 32-bit RISC-V core used in the open source security project, <a href=https://opentitan.org/>OpenTitan</a>. But to generate adoption, ease of use is just as important as features, which is why Verible was recently exposed to a wider audience by integrating it with <a href=https://github.com/olofk/fusesoc>FuseSoC</a>.</p>
<p><img src=Logos-1024x440.png alt></p>
<p>One of the main advantages of an open source linter/formatter is how easy it is to integrate it with existing workflows of open source projects. As it happens, many open source FPGA/ASIC projects, including OpenTitan, are managed with <a href=https://github.com/olofk/fusesoc>FuseSoC</a>, an open source tooling and IP package manager (from our fellow <a href=https://fossi-foundation.org/>FOSSi</a> veteran Olof Kindgren) which we also use and support. Thanks to the integration of Verible with FuseSoC, linting and formatting automation becomes much easier.</p>
<p>Below you will find a simple example and explanation of how to use the integration The example contains an accompanying CI setup which you can mimic in your own project.</p>
<h2 id=demo>Demo</h2>
<p>We will use <a href=https://github.com/antmicro/fusesoc-verible-demo>the following example repository</a> to explain the usage of Verible with FuseSoC.
We will show how to build Verible binaries, download ibex – a small 32 bit RISC-V CPU core – and run FuseSoC to perform linting/formatting using Verible.</p>
<h2 id=prerequisites>Prerequisites</h2>
<p>Install the prerequisites (tested on Ubuntu 18.04):</p>
<pre tabindex=0><code>sudo apt update
sudo apt install cmake ninja-build wget python3 python3-pip python3-setuptools make tar git
sudo pip3 install fusesoc
</code></pre><h2 id=building-verible>Building Verible</h2>
<p>Verible can be built using the <a href=https://bazel.build/>Bazel build system</a>.
Bazel is not available in the debian/ubuntu apt repositories. To install Bazel you should add Bazel’s apt repository:</p>
<pre tabindex=0><code>curl https://bazel.build/bazel-release.pub.gpg | sudo apt-key add -
echo &quot;deb [arch=amd64] https://storage.googleapis.com/bazel-apt stable jdk1.8&quot; | sudo tee /etc/apt/sources.list.d/bazel.list
sudo apt update &amp;&amp; sudo apt install bazel
</code></pre><p>To build Verible, a C++11 compatible compiler is required. After the installation of bazel, Verible can be built and installed:</p>
<pre tabindex=0><code>git clone https://github.com/google/Verible
cd Verible
bazel build -c opt //...
bazel run :install -c opt -- `pwd`/../Verible_bin
export PATH=`pwd`/../Verible_bin/:$PATH
</code></pre><p>Alternatively, you can download pre-built Verible binaries from the <a href=https://github.com/google/Verible/releases>Verible release page</a>. Refer to the <a href=https://github.com/google/Verible>Verible documentation</a> and <a href=https://docs.bazel.build/versions/master/install.html>Bazel installation instructions</a> for more details.</p>
<h2 id=running-verible-tools-with-fusesoc>Running Verible tools with FuseSoC</h2>
<p>FuseSoC uses tool backends available in <a href=https://github.com/olofk/edalize>edalize</a>, which is another workflow automation project from the same author that we contribute to regularly. In order to use the Verible tools with FuseSoC you need to define a tool section in the FuseSoC core target file. Ibex already includes the integration, so you can use its <a href=https://github.com/lowRISC/ibex/blob/master/ibex_core.core>ibex_core.core</a> file as an example.</p>
<p><a href=https://asciinema.org/a/pMbg6ZZ4X5jYWdC3AXCRYkcSU><img src=pMbg6ZZ4X5jYWdC3AXCRYkcSU.svg alt></a></p>
<h2 id=verible-linter-with-fusesoc-on-ibex>Verible linter with FuseSoC on ibex</h2>
<p>To perform linting in <code>ibex_core</code>, use:</p>
<pre tabindex=0><code>git clone https://github.com/lowRISC/ibex
cd ibex
#add Verible lint rules
sed -i '132i\          - &quot;-generate-label&quot;\n          - &quot;-unpacked-dimensions-range-ordering&quot;\n          - &quot;-explicit-parameter-storage-type&quot;\n          - &quot;-line-length&quot;\n          - &quot;-module-filename&quot;\n          - &quot;-no-trailing-spaces&quot;\n          - &quot;-undersized-binary-literal&quot;\n          - &quot;-struct-union-name-style&quot;\n          - &quot;-case-missing-default&quot;\n          - &quot;-explicit-task-lifetime&quot;\n          - &quot;-explicit-function-lifetime&quot;' ibex_core.core

fusesoc --cores-root. run --target=lint --tool=veriblelint lowrisc:ibex:ibex_core:0.1
</code></pre><h2 id=verible-formatter-with-fusesoc-on-ibex>Verible formatter with FuseSoC on ibex</h2>
<p>To format the <code>ibex_core</code> with Verible:</p>
<pre tabindex=0><code>#add Veribleformat rules
sed -i '154i\          - &quot;--max_search_states&quot;\n          - &quot;10000000&quot;' ibex_core.core
fusesoc --cores-root . run --target=format --no-export lowrisc:ibex:ibex_core:0.1
</code></pre><p><a href=https://asciinema.org/a/rIjiekwlO2gv8E51ZDzYIETPF><img src=rIjiekwlO2gv8E51ZDzYIETPF.svg alt></a></p>
<p>The demo also shows how the Verible linter can be incorporated into CI pipelines for automatic detection of lint errors. To demonstrate that, a <a href=https://github.com/antmicro/fusesoc-verible-demo/pull/1>Pull Request</a> containing an intentional lint error has been opened. An automatically executed CI pipeline was able to detect the issues with the code and inform the developers about the failed build status. The output of the lint command can provide useful information about a possible cause of the error. Early detection of lint errors can reduce the number of bugs and improve the overall code quality. Using a linter can accelerate development and reduce costs by finding errors at an early stage of the process. Moreover, incorporating the Verible formatter in CI can also ensure that incoming contributions automatically employ the project’s coding style.</p>
<p>More detailed instructions regarding building and using Verible with FuseSoC can be found in the README file located in the demo repository.</p>
<p>If you are involved in FPGA and ASIC development and want your project to be portable, modular and harness other benefits of a software-driven, open-source-based approach, Antmicro is there to help. As a key service provider in both RISC-V Foundation and CHIPS Alliance, we have lots of readily available SoC building blocks, tools and capabilities to assist you in developing your next product or platform.</p>
</div>
</article>
</div>
</div>
</div>
</section>
<section class="blog-related position-relative">
<div class=container>
<div class=row>
<div class=col-md-12>
<div class=blog-section>
<h2 class=blog-section-title>Recent News</h2>
</div>
</div>
</div>
<div class=row>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/chips-alliance-website/news/chips-alliance-welcomes-the-caliptra-open-source-root-of-trust-project/>
<img src=https://chipsalliance.github.io/chips-alliance-website/news/chips-alliance-welcomes-the-caliptra-open-source-root-of-trust-project/share.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.github.io/chips-alliance-website/categories/announcements>Announcements</a>
</div>
<div class=blog-post-date>
December 13, 2022
</div>
<div class=blog-post-title>
<a href=/chips-alliance-website/news/chips-alliance-welcomes-the-caliptra-open-source-root-of-trust-project/>CHIPS Alliance Welcomes the Caliptra Open Source Root of Trust Project</a>
</div>
</div>
</article>
</div>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/chips-alliance-website/news/joint-analog-workgroup-mos-ak-panel-session/>
<img src=https://chipsalliance.github.io/chips-alliance-website/news/joint-analog-workgroup-mos-ak-panel-session/share.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.github.io/chips-alliance-website/categories/blog>Blog</a>
</div>
<div class=blog-post-date>
December 5, 2022
</div>
<div class=blog-post-title>
<a href=/chips-alliance-website/news/joint-analog-workgroup-mos-ak-panel-session/>Joint Analog Workgroup / MOS-AK Panel Session</a>
</div>
</div>
</article>
</div>
<div class="col-lg-4 col-md-6">
<article class=blog-post>
<div class=blog-post-thumb>
<a href=/chips-alliance-website/news/chips-alliance-fall-2022-technology-update-december-15/>
<img src=https://chipsalliance.github.io/chips-alliance-website/news/chips-alliance-fall-2022-technology-update-december-15/share.png alt=blog-thumb loading=lazy>
</a>
</div>
<div class=blog-post-content>
<div class=blog-post-tag>
<a href=https://chipsalliance.github.io/chips-alliance-website/categories/announcements>Announcements</a>
</div>
<div class=blog-post-date>
December 1, 2022
</div>
<div class=blog-post-title>
<a href=/chips-alliance-website/news/chips-alliance-fall-2022-technology-update-december-15/>CHIPS Alliance Fall 2022 Technology Update December 15</a>
</div>
</div>
</article>
</div>
</div>
</div>
</section>
<footer class="footer pt-xxl-19 pt-8 pb-sm-7 pb-5" id=footer>
<div class=container-fluid>
<div class=footer-wrapper>
<div class=row>
<div class="col-12 col-lg-4 me-auto order-2 order-lg-1">
<div class="footer-logo mt-7 mt-md-0 mb-5">
<a href=/chips-alliance-website/>
<img src=/chips-alliance-website/images/chips-logo-white.svg alt=logo>
</a>
</div>
<div class=social-icon>
<ul class=list-unstyled>
<li>
<a href=https://twitter.com/chipsalliance> <i class=ph-twitter-logo></i> </a>
</li>
<li>
<a href=https://github.com/chipsalliance> <i class=ph-github-logo></i> </a>
</li>
<li>
<a href=https://www.linkedin.com/company/chipsalliance/> <i class=ph-linkedin-logo></i> </a>
</li>
</ul>
</div>
<div class="footer-logo mt-7 mt-md-0">
<p>
© Copyright <span>2023</span> CHIPS Alliance
The Linux Foundation® . All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage>Trademark Usage</a> page. Linux is a registered trademark of Linus Torvalds. <a href=http://www.linuxfoundation.org/privacy>Privacy Policy</a> and <a href=http://www.linuxfoundation.org/terms>Terms of Use</a>.
</p>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>About</h3>
<ul class=list-unstyled>
<li>
<a href=/chips-alliance-website/about/who-we-are/>Who We Are</a>
</li>
<li>
<a href=/chips-alliance-website/about/members/>Members</a>
</li>
<li>
<a href=/chips-alliance-website/about/governance/>Governance</a>
</li>
<li>
<a href=/chips-alliance-website/about/faq/>FAQ</a>
</li>
<li>
<a href=/chips-alliance-website/about/contact/>Contact</a>
</li>
</ul>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>Community</h3>
<ul class=list-unstyled>
<li>
<a href=/chips-alliance-website/getting-started/>Getting Started</a>
</li>
<li>
<a href=/chips-alliance-website/events/>Events</a>
</li>
<li>
<a href=/chips-alliance-website/workgroups/>Workgroups</a>
</li>
</ul>
</div>
</div>
<div class="col-6 col-md-4 col-sm-4 col-lg-2 order-1">
<div class=footer-widget>
<h3>News</h3>
<ul class=list-unstyled>
<li>
<a href=/chips-alliance-website/categories/announcements/>Announcements</a>
</li>
<li>
<a href=/chips-alliance-website/categories/blog/>Blog</a>
</li>
<li>
<a href=/chips-alliance-website/categories/reports/>Reports</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</footer>
<script src=/chips-alliance-website/vendor/jQuery/jquery.min.js></script>
<script src=/chips-alliance-website/vendor/bootstrap/bootstrap.bundle.min.js></script>
<script src=/chips-alliance-website/vendor/counter-up/countup.js></script>
<script src=/chips-alliance-website/vendor/magnific-popup/magnific-popup.min.js></script>
<script src=/chips-alliance-website/js/script.js></script>
</body>
</html>