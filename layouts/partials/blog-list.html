<section class="blog-hero pt-xl-22 pt-sm-20 pt-18 pb-xxl-2 pb-xl-2 pb-2 position-relative">
   <div class="container">
      <div class="row">
         <div class="col-xl-8 col-lg-10 mx-auto">
            <div class="blog-hero-content">
               <h1 class="blog-hero-title">{{.Title}}</h1>
               <p>{{.Params.description}}</p>
            </div>
         </div>
      </div>
   </div>
</section>
{{ $current := . }}
{{ $isBlogList := strings.Contains $current.RelPermalink "categories/blog/" }}
{{ $isTagTerm := and (eq .Kind "term") (eq .Data.Singular "tag") }}
{{ $selectedTagUrl := "" }}
{{ if $isTagTerm }}{{ $selectedTagUrl = (urlize .Data.Term) }}{{ end }}
{{ if or $isBlogList $isTagTerm }}
<section class="tag-filter py-3">
  <div class="container">
    <div class="d-flex flex-wrap align-items-center">
      <span class="me-3 fw-semibold">Filter by tag:</span>
      {{ $allHref := cond $isTagTerm (relURL "categories/blog/") $current.RelPermalink }}
      {{ $allClass := cond $isBlogList "badge bg-primary me-2 mb-2" "badge bg-light text-dark border me-2 mb-2" }}
      <a href="{{ $allHref }}" class="{{ $allClass }}">All</a>
      {{ $allBlogTags := slice }}
      {{ $blogPages := where (where site.RegularPages "Section" "news") "Params.categories" "intersect" (slice "Blog") }}
      {{ range $blogPages }}
        {{ with .Params.tags }}
          {{ range . }}
             {{ $allBlogTags = $allBlogTags | append . }}
          {{ end }}
        {{ end }}
      {{ end }}
      {{ range ($allBlogTags | uniq | sort) }}
        {{ $tagUrl := (urlize .) }}
        {{ $href := print (absURL "tags/") $tagUrl }}
        {{ $isActive := and $isTagTerm (eq $tagUrl $selectedTagUrl) }}
        {{ $cls := cond $isActive "badge bg-primary me-2 mb-2" "badge bg-light text-dark border me-2 mb-2" }}
        <a href="{{ $href }}" class="{{ $cls }}">#{{ . }}</a>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}
<section class="blog @@padding @@blog-two">
   <div class="container">
      <div class="row">
         {{ range (.Paginator 12).Pages }}
         <div class="col-lg-4 col-md-6">
            <article class="blog-post">
               <div class="blog-post-thumb">
                  <a href="{{ .RelPermalink }}">
                     {{- with .Params.images }}
                     <img src="{{ index . 0 | absURL }}" alt="blog-thumb" loading="lazy" />
                     {{ end -}}
                  </a>
               </div>
               <div class="blog-post-content">
                  {{ with .Params.tags }}
                  <div class="blog-post-tag mt-1">
                     {{ range . }}
                     {{ $href := print (absURL "tags/") (urlize .) }}
                     <a href="{{ $href }}" class="badge bg-light text-dark me-1">#{{ . }}</a>
                     {{ end }}
                  </div>
                  {{ end }}
                  <div class="blog-post-date">
                     {{.Date | time.Format ":date_long"}}
                  </div>

                  <div class="blog-post-title">
                     <a href="{{ .RelPermalink }}" class="">{{.Title}}</a>
                  </div>
               </div>
            </article>
         </div>
         {{ end }} {{ if gt .Paginator.TotalPages 1 }}
         <nav class="blog-pagination">
            <ul class="pagination">
               {{ if .Paginator.HasPrev }}
               <li class="page-item">
                  <a class="page-link btn btn-secondary" href="{{.Paginator.Prev.URL}}">
                     <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20.657"
                        height="11.314"
                        viewBox="0 0 20.657 11.314"
                        style="transform: scale(-1, 1)"
                     >
                        <g fill="#fff" data-name="Group 12">
                           <path d="M0 4.657h18v2H0z" data-name="Rectangle 2400"></path>
                           <path
                              d="M13.586 9.9l5.6568542-5.6568542 1.4142136 1.4142135-5.6568542 5.6568543z"
                              data-name="Rectangle 2401"
                           ></path>
                           <path
                              d="M15 0l5.6568542 5.6568542-1.4142135 1.4142136-5.6568543-5.6568542z"
                              data-name="Rectangle 2402"
                           ></path>
                        </g>
                     </svg>
                  </a>
               </li>
               {{ end }} {{ $paginator := .Paginator }} {{ range $paginator.Pagers }}
               <li class="page-item number-page-button">
                  <a
                     class="page-link btn btn-secondary {{ if eq . $paginator }}active{{ end }}"
                     href="{{.URL}}"
                     >{{.PageNumber}}</a
                  >
               </li>
               {{ end }} {{ if .Paginator.HasNext }}

               <li class="page-item">
                  <a class="page-link btn btn-secondary" href="{{ .Paginator.Next.URL }}">
                     <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20.657"
                        height="11.314"
                        viewBox="0 0 20.657 11.314"
                     >
                        <g fill="#fff" data-name="Group 12">
                           <path d="M0 4.657h18v2H0z" data-name="Rectangle 2400"></path>
                           <path
                              d="M13.586 9.9l5.6568542-5.6568542 1.4142136 1.4142135-5.6568542 5.6568543z"
                              data-name="Rectangle 2401"
                           ></path>
                           <path
                              d="M15 0l5.6568542 5.6568542-1.4142135 1.4142136-5.6568543-5.6568542z"
                              data-name="Rectangle 2402"
                           ></path>
                        </g>
                     </svg>
                  </a>
               </li>

               {{ end }}
            </ul>
         </nav>
         {{end}}
      </div>
   </div>
</section>
